var D=Object.defineProperty,F=Object.defineProperties;var N=Object.getOwnPropertyDescriptors;var I=Object.getOwnPropertySymbols;var K=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var v=(n,e,r)=>e in n?D(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,b=(n,e)=>{for(var r in e||(e={}))K.call(e,r)&&v(n,r,e[r]);if(I)for(var r of I(e))M.call(e,r)&&v(n,r,e[r]);return n},w=(n,e)=>F(n,N(e));import{j as t,T as k,a as C,A as O,u as $,b as l,L as j,d as z,c as G,e as U,f as V,D as y,r as h,g as x,B as S,C as q,R as p,h as H,i as A,k as J,I as Q,l as X,m as Y,n as Z,o as ee,p as R,q as te,s as _,t as ne,v as re,w as se,x as ae,y as oe}from"./vendor.dc606879.js";const ie=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}};ie();const d={sakeAPI:{baseURL:"http://localhost:3000",basePath:{ranking:"/api/ranking"}},pagePath:{root:"/",favorite:"/favorite"}},g={breakpoints:{xs:0,sm:600,md:960,lg:1280,xl:1920},responsiveTag:{cols:[1,2],listWidth:[400,900]},drawerWidth:240},ce=()=>{const n=g.drawerWidth;return t(O,{position:"fixed",sx:{width:{sm:`calc(100% - ${n}px)`},ml:{sm:`${n}px`}},children:t(k,{children:t(C,{variant:"h6",noWrap:!0,component:"div",children:"\u30102022 2\u6708\u3011\u65E5\u672C\u9152\u30E9\u30F3\u30AD\u30F3\u30B0"})})})},L=n=>{const{title:e,path:r}=n,o=$();return t(V,{children:l(U,{button:!0,onClick:()=>{o(r)},children:[t(j,{children:t(z,{})}),t(G,{primary:e})]},e)})},E=()=>{const{root:n,favorite:e}=d.pagePath;return l("div",{children:[t(k,{}),t(y,{}),t(L,{title:"\u30E9\u30F3\u30AD\u30F3\u30B0",path:n}),t(y,{}),t(L,{title:"\u304A\u6C17\u306B\u5165\u308A",path:e})]})},le=n=>{const e=g.drawerWidth,{window:r}=n,[o,s]=h.exports.useState(!1);return l(S,{component:"nav",sx:{width:{sm:e},flexShrink:{sm:0}},"aria-label":"mailbox folders",children:[t(x,{container:r!==void 0?()=>r().document.body:void 0,variant:"temporary",open:o,onClose:()=>{s(!o)},ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:e}},children:t(E,{})}),t(x,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:e}},open:!0,children:t(E,{})})]})},de=n=>{const e=g.drawerWidth,{window:r,children:o}=n;return l(S,{sx:{display:"flex"},children:[t(q,{}),t(ce,{}),t(le,{window:r}),l(S,{component:"main",sx:{flexGrow:1,p:3,width:{sm:`calc(100% - ${e}px)`}},children:[t(k,{}),o]})]})},f={SAKE_RANKING_STATE:"sakeRankingState",SAKE_RANKING_PARAM_STATE:"sakeRankingParamState",RESPONSIVE_ITEM_STATE:"responsiveItem",SAKE_FAVORITE_LIST_STATE:"sakeFavoriteListState"},ue=p({key:f.SAKE_RANKING_STATE,default:null}),T=p({key:f.SAKE_FAVORITE_LIST_STATE,default:[]}),me=p({key:f.SAKE_RANKING_PARAM_STATE,default:[]}),he=p({key:f.RESPONSIVE_ITEM_STATE,default:{columns:0,listItemWidth:0}}),pe=n=>{const{item:e}=n,{brand:r}=e.brandSummary,[o,s]=H(T),a=A(),[i,u]=h.exports.useState(a.pathname===d.pagePath.favorite);return t(Q,{sx:{color:`${i?"red":"white"}`},"aria-label":`star ${r.name}`,onClick:()=>{if(i){const c=o.filter(W=>W.id!==e.id);u(!1),s(c)}else u(!0),s([...o,e])},children:t(J,{})})},ge=n=>{const{item:e}=n,{brand:r}=e.brandSummary;return t(X,{sx:{background:"linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"},title:r.name,subtitle:r.brewery.name,position:"top",actionIcon:t(pe,{item:e}),actionPosition:"left"})};var fe={name:"1famqm",styles:"width:200px;height:200px"};const P=n=>{const{item:e}=n,{brand:r,pictures:o,flavorChartUrl:s}=e.brandSummary,a=o.length===0?"":o[0].url,i={image:fe};return l(Y,{children:[t("table",{children:t("tbody",{children:l("tr",{children:[t("td",{children:t("img",{css:i.image,src:a,alt:r.name,loading:"lazy"})}),t("td",{children:t("img",{css:i.image,src:s,alt:r.name,loading:"lazy"})})]})})}),t(ge,{item:e})]},s)},ke=async(n,e)=>await fetch(`${d.sakeAPI.baseURL}${n}?${e}`).then(r=>r.json()),Se=Z({key:"sakeRankingFetchAPI",get:n=>async({get:e})=>{const r=e(ue),o=e(me),s=o.length===0?"":o.join("&");if(r&&n===s)return r;try{return ke(d.sakeAPI.basePath.ranking,n)}catch(a){throw new Error(a)}}}),Ie=()=>{const{breakpoints:n}=g,e=i=>i<n.sm?1:2,r=i=>i<n.sm?300:900,o=ee(he),s={columns:e(window.innerWidth),listItemWidth:r(window.innerWidth)},a=()=>{o(s)};return h.exports.useEffect(()=>(window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)),[]),s};var ve={name:"9th5i",styles:"margin:0 auto"};const be=()=>{const{columns:n,listItemWidth:e}=Ie(),{root:r,favorite:o}=d.pagePath,s=A(),a={imageList:ve},i=R(Se("")),u=R(T);return t(te,{css:a.imageList,sx:{width:e},gap:20,cols:n,children:i!==null&&s.pathname===r?i.ranking.map((m,c)=>t(P,{item:w(b({},m),{id:c}),index:c},c)):s.pathname===o?u.map((m,c)=>t(P,{item:m,index:c},c)):""})},B=()=>t(de,{children:t(h.exports.Suspense,{fallback:t("div",{children:"Loading..."}),children:t(be,{})})}),we=()=>{const{root:n,favorite:e}=d.pagePath;return t(re,{children:l(ne,{children:[t(_,{path:n,element:t(B,{})}),t(_,{path:e,element:t(B,{})})]})})};se.render(t(oe.StrictMode,{children:t(ae,{children:t(we,{})})}),document.getElementById("root"));
